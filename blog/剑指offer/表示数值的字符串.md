# 题目

请实现一个函数用来判断字符串是否表示数值（包括整数和小数）。例如，字符串"+100","5e2","-123","3.1416","-1E-16"都表示数值，但"12e","1a3.14","1.2.3","+-5","12e+5.4"都不是。

# 思路

书上C++代码的Java改写。用变量curr指示当前字符。判断的过程是，首先看第一个字符是不是正负号。如果是，在字符串上移动一个字符，继续扫描剩余的字符串中0-9的数位。如果是一个小数，则会遇到小数点。此外，如果是用科学计数法表示的数值，在整数或者小数的后面还有可能遇到e或E。函数scanDigits用来扫描0-9中的数字，isExponential函数用来判断E(...)是不是合法的。

```java
private int curr = 0;	// 指示字符串str的当前字符

public boolean isNumeric(String str) {
    if (str == null || str.length() == 0) return false;
    if (str.charAt(curr) == '+' || str.charAt(curr) == '-') curr++;
    if (curr == str.length()) return false;
    scanDigits(str);
    if (curr < str.length()) {
        if (str.charAt(curr) == '.') {	// 小数
            curr++;
            if (curr == str.length()) return false;
            scanDigits(str);
            if (curr < str.length() && (str.charAt(curr) == 'e' || str.charAt(curr) == 'E')) {	// 这里是为了判断类似3.14e1的情况
                return isExponential(str);
            }
        } else if (str.charAt(curr) == 'e' || str.charAt(curr) == 'E') {	// 指数
            return isExponential(str);
        } else {
            return false;
        }
    }
    return curr == str.length();
}

private void scanDigits(String str) {
    while (curr < str.length() && str.charAt(curr) >= '0' && str.charAt(curr) <= '9') {
        curr++;
    }
}

private boolean isExponential(String str) {
    if (str.charAt(curr) != 'e' && str.charAt(curr) != 'E') return false;
    curr++;
    if (curr == str.length()) return false;
    if (curr < str.length() && str.charAt(curr) == '-' || str.charAt(curr) == '+'){
        curr++;
    }
    if (curr == str.length()) return false;
    scanDigits(str);
    return curr == str.length();
}
```

