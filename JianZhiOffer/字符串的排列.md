# 题目

输入一个字符串,按字典序打印出该字符串中字符的所有排列。例如输入字符串abc,则打印出由字符a, b, c所能排列出来的所有字符串abc, acb, bac, bca, cab和cba。

# 思路1

回溯法。

```java
public List<String> permutation(String str) {
    if (str == null || str.length() == 0) return new ArrayList<>();
    List<String> result = new ArrayList<>();
    dfs(str, new char[str.length()], 0, new boolean[str.length()], result);
    return result;
}

private void dfs(String str, char[] selected, int curr, boolean[] vis, List<String> result) {
    if (curr == str.length()) {
        result.add(String.valueOf(selected));
    } else {
        for (int i = 0; i < str.length(); i++) {
            if (!vis[i]) {
                vis[i] = true;
                selected[curr] = s.charAt(i);
                dfs(str, selected, curr + 1, vis, result);
                vis[i] = false;
            }
        }
    }
}
```

# 思路2

书上的思路。求字符串的排列可以分成两步：首先求所有可能出现在第一个位置的字符，即把第一个字符和后面的字符依次交换（也可以和它自己交换）；第二步固定第一个字符，求后面所有字符的排列。这个时候仍把后面的所有字符分成两部分，后面字符的第一个字符以及这个字符之后的所有字符，然后把第一个字符逐一和它后面的字符交换。这是一个递归的过程。为了方便交换，我们在代码中将字符串转换为字符数组。

```java
public List<String> permutation(String str) {
    if (str == null || str.length() == 0) return new ArrayList<>();
    List<String> result = new ArrayList<>();
    char[] chs = str.toCharArray();
    helper(chs, 0, result);
    return result;
}

private void helper(char[] chs, int begin, List<String> result) {
    if (begin == chs.length) {
        result.add(String.valueOf(chs));
    } else {
        for (int i = begin; i < chs.length; i++) {
            swap(chs, begin, i);
            helper(chs, begin + 1, result);
            swap(chs, begin, i);	// 注意函数返回后要交换回来
        }
    }
}

private void swap(char[] chs, int i, int j) {
    char t = chs[i];
    chs[i] = chs[j];
    chs[j] = t;
}
```

